<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>clang: clang::cross_tu::CrossTranslationUnitContext Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">clang<span id="projectnumber">&#160;12.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search',false);
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceclang.html">clang</a></li><li class="navelem"><a class="el" href="namespaceclang_1_1cross__tu.html">cross_tu</a></li><li class="navelem"><a class="el" href="classclang_1_1cross__tu_1_1CrossTranslationUnitContext.html">CrossTranslationUnitContext</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classclang_1_1cross__tu_1_1CrossTranslationUnitContext-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">clang::cross_tu::CrossTranslationUnitContext Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This class is used for tools that requires cross translation unit capability.  
 <a href="#details">More...</a></p>

<p><code>#include &quot;<a class="el" href="CrossTranslationUnit_8h_source.html">clang/CrossTU/CrossTranslationUnit.h</a>&quot;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a20b1aa7f7d670214170ac97583a80c06" id="r_a20b1aa7f7d670214170ac97583a80c06"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a20b1aa7f7d670214170ac97583a80c06">CrossTranslationUnitContext</a> (<a class="el" href="classclang_1_1CompilerInstance.html">CompilerInstance</a> &amp;CI)</td></tr>
<tr class="separator:a20b1aa7f7d670214170ac97583a80c06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae41fb00a69bf7cea8320dc742edee2c4" id="r_ae41fb00a69bf7cea8320dc742edee2c4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae41fb00a69bf7cea8320dc742edee2c4">~CrossTranslationUnitContext</a> ()</td></tr>
<tr class="separator:ae41fb00a69bf7cea8320dc742edee2c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e5ebf62dd3fc934426de6bb6a649028" id="r_a0e5ebf62dd3fc934426de6bb6a649028"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1Expected.html">llvm::Expected</a>&lt; const <a class="el" href="classclang_1_1FunctionDecl.html">FunctionDecl</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0e5ebf62dd3fc934426de6bb6a649028">getCrossTUDefinition</a> (const <a class="el" href="classclang_1_1FunctionDecl.html">FunctionDecl</a> *FD, StringRef CrossTUDir, StringRef IndexName, <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> DisplayCTUProgress=<a class="el" href="stdbool_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>)</td></tr>
<tr class="memdesc:a0e5ebf62dd3fc934426de6bb6a649028"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function loads a function or variable definition from an external AST file and merges it into the original AST.  <br /></td></tr>
<tr class="separator:a0e5ebf62dd3fc934426de6bb6a649028"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9ed7bd9976a54ca24e153f8df27c232" id="r_aa9ed7bd9976a54ca24e153f8df27c232"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1Expected.html">llvm::Expected</a>&lt; const <a class="el" href="classclang_1_1VarDecl.html">VarDecl</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa9ed7bd9976a54ca24e153f8df27c232">getCrossTUDefinition</a> (const <a class="el" href="classclang_1_1VarDecl.html">VarDecl</a> *VD, StringRef CrossTUDir, StringRef IndexName, <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> DisplayCTUProgress=<a class="el" href="stdbool_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>)</td></tr>
<tr class="separator:aa9ed7bd9976a54ca24e153f8df27c232"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4546fd7d76bc9abf8043377bcf0d86b" id="r_ae4546fd7d76bc9abf8043377bcf0d86b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1Expected.html">llvm::Expected</a>&lt; <a class="el" href="classclang_1_1ASTUnit.html">ASTUnit</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae4546fd7d76bc9abf8043377bcf0d86b">loadExternalAST</a> (StringRef LookupName, StringRef CrossTUDir, StringRef IndexName, <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> DisplayCTUProgress=<a class="el" href="stdbool_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>)</td></tr>
<tr class="memdesc:ae4546fd7d76bc9abf8043377bcf0d86b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function loads a definition from an external AST file.  <br /></td></tr>
<tr class="separator:ae4546fd7d76bc9abf8043377bcf0d86b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ae61c39bd3785eed5acc6c2bee813de" id="r_a1ae61c39bd3785eed5acc6c2bee813de"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1Expected.html">llvm::Expected</a>&lt; const <a class="el" href="classclang_1_1FunctionDecl.html">FunctionDecl</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1ae61c39bd3785eed5acc6c2bee813de">importDefinition</a> (const <a class="el" href="classclang_1_1FunctionDecl.html">FunctionDecl</a> *FD, <a class="el" href="classclang_1_1ASTUnit.html">ASTUnit</a> *Unit)</td></tr>
<tr class="memdesc:a1ae61c39bd3785eed5acc6c2bee813de"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function merges a definition from a separate AST Unit into the current one which was created by the compiler instance that was passed to the constructor.  <br /></td></tr>
<tr class="separator:a1ae61c39bd3785eed5acc6c2bee813de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac12cc5b16bebd87a81c85bf56563270e" id="r_ac12cc5b16bebd87a81c85bf56563270e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1Expected.html">llvm::Expected</a>&lt; const <a class="el" href="classclang_1_1VarDecl.html">VarDecl</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac12cc5b16bebd87a81c85bf56563270e">importDefinition</a> (const <a class="el" href="classclang_1_1VarDecl.html">VarDecl</a> *VD, <a class="el" href="classclang_1_1ASTUnit.html">ASTUnit</a> *Unit)</td></tr>
<tr class="separator:ac12cc5b16bebd87a81c85bf56563270e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a035ca928ab0dd224ed8983145fee1adf" id="r_a035ca928ab0dd224ed8983145fee1adf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a035ca928ab0dd224ed8983145fee1adf">emitCrossTUDiagnostics</a> (const <a class="el" href="classclang_1_1cross__tu_1_1IndexError.html">IndexError</a> &amp;IE)</td></tr>
<tr class="memdesc:a035ca928ab0dd224ed8983145fee1adf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emit diagnostics for the user for potential configuration errors.  <br /></td></tr>
<tr class="separator:a035ca928ab0dd224ed8983145fee1adf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbc53014dc17f5c9b496a358e36f3e71" id="r_afbc53014dc17f5c9b496a358e36f3e71"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1Optional.html">llvm::Optional</a>&lt; std::pair&lt; <a class="el" href="classclang_1_1SourceLocation.html">SourceLocation</a>, <a class="el" href="classclang_1_1ASTUnit.html">ASTUnit</a> * &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afbc53014dc17f5c9b496a358e36f3e71">getImportedFromSourceLocation</a> (const <a class="el" href="classclang_1_1SourceLocation.html">clang::SourceLocation</a> &amp;ToLoc) const</td></tr>
<tr class="memdesc:afbc53014dc17f5c9b496a358e36f3e71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the original source location in the original TU for an imported source location.  <br /></td></tr>
<tr class="separator:afbc53014dc17f5c9b496a358e36f3e71"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:acb6d064fefe4d6aec6991d54ba34f0bb" id="r_acb6d064fefe4d6aec6991d54ba34f0bb"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1Optional.html">llvm::Optional</a>&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acb6d064fefe4d6aec6991d54ba34f0bb">getLookupName</a> (const <a class="el" href="classclang_1_1NamedDecl.html">NamedDecl</a> *ND)</td></tr>
<tr class="memdesc:acb6d064fefe4d6aec6991d54ba34f0bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a name to identify a named decl.  <br /></td></tr>
<tr class="separator:acb6d064fefe4d6aec6991d54ba34f0bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class is used for tools that requires cross translation unit capability. </p>
<p>This class can load definitions from external AST sources. The loaded definition will be merged back to the original AST using the AST Importer. In order to use this class, an index file is required that describes the locations of the AST files for each definition.</p>
<p>Note that this class also implements caching. </p>

<p class="definition">Definition at line <a class="el" href="CrossTranslationUnit_8h_source.html#l00123">123</a> of file <a class="el" href="CrossTranslationUnit_8h_source.html">CrossTranslationUnit.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a20b1aa7f7d670214170ac97583a80c06" name="a20b1aa7f7d670214170ac97583a80c06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20b1aa7f7d670214170ac97583a80c06">&#9670;&#160;</a></span>CrossTranslationUnitContext()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">clang::cross_tu::CrossTranslationUnitContext::CrossTranslationUnitContext </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classclang_1_1CompilerInstance.html">CompilerInstance</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>CI</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="CrossTranslationUnit_8cpp_source.html#l00211">211</a> of file <a class="el" href="CrossTranslationUnit_8cpp_source.html">CrossTranslationUnit.cpp</a>.</p>

</div>
</div>
<a id="ae41fb00a69bf7cea8320dc742edee2c4" name="ae41fb00a69bf7cea8320dc742edee2c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae41fb00a69bf7cea8320dc742edee2c4">&#9670;&#160;</a></span>~CrossTranslationUnitContext()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">clang::cross_tu::CrossTranslationUnitContext::~CrossTranslationUnitContext </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="CrossTranslationUnit_8cpp_source.html#l00214">214</a> of file <a class="el" href="CrossTranslationUnit_8cpp_source.html">CrossTranslationUnit.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a035ca928ab0dd224ed8983145fee1adf" name="a035ca928ab0dd224ed8983145fee1adf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a035ca928ab0dd224ed8983145fee1adf">&#9670;&#160;</a></span>emitCrossTUDiagnostics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void clang::cross_tu::CrossTranslationUnitContext::emitCrossTUDiagnostics </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classclang_1_1cross__tu_1_1IndexError.html">IndexError</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>IE</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Emit diagnostics for the user for potential configuration errors. </p>

<p class="definition">Definition at line <a class="el" href="CrossTranslationUnit_8cpp_source.html#l00342">342</a> of file <a class="el" href="CrossTranslationUnit_8cpp_source.html">CrossTranslationUnit.cpp</a>.</p>

<p class="reference">References <a class="el" href="CrossTranslationUnit_8h_source.html#l00072">clang::cross_tu::IndexError::getCode()</a>, <a class="el" href="ASTContext_8cpp_source.html#l01475">clang::ASTContext::getDiagnostics()</a>, <a class="el" href="CrossTranslationUnit_8h_source.html#l00074">clang::cross_tu::IndexError::getFileName()</a>, <a class="el" href="CrossTranslationUnit_8h_source.html#l00073">clang::cross_tu::IndexError::getLineNum()</a>, <a class="el" href="CrossTranslationUnit_8h_source.html#l00076">clang::cross_tu::IndexError::getTripleFromName()</a>, <a class="el" href="CrossTranslationUnit_8h_source.html#l00075">clang::cross_tu::IndexError::getTripleToName()</a>, <a class="el" href="namespaceclang_1_1cross__tu.html#af89d2e1c0fca64589909448d036adb96abdbcab148f96e6bcbac810019f277dc7">clang::cross_tu::invalid_index_format</a>, <a class="el" href="namespaceclang_1_1cross__tu.html#af89d2e1c0fca64589909448d036adb96a6d1d808f20f2b9ca821c178e9edcf0b9">clang::cross_tu::missing_index_file</a>, <a class="el" href="namespaceclang_1_1cross__tu.html#af89d2e1c0fca64589909448d036adb96ac1fa07314114551ec66e6322936ca934">clang::cross_tu::multiple_definitions</a>, <a class="el" href="Basic_2Diagnostic_8h_source.html#l01469">clang::DiagnosticsEngine::Report()</a>, and <a class="el" href="namespaceclang_1_1cross__tu.html#af89d2e1c0fca64589909448d036adb96a994cd01f46c6434379b47b3bd902784e">clang::cross_tu::triple_mismatch</a>.</p>

</div>
</div>
<a id="a0e5ebf62dd3fc934426de6bb6a649028" name="a0e5ebf62dd3fc934426de6bb6a649028"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e5ebf62dd3fc934426de6bb6a649028">&#9670;&#160;</a></span>getCrossTUDefinition() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1Expected.html">llvm::Expected</a>&lt; const <a class="el" href="classclang_1_1FunctionDecl.html">FunctionDecl</a> * &gt; clang::cross_tu::CrossTranslationUnitContext::getCrossTUDefinition </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classclang_1_1FunctionDecl.html">FunctionDecl</a> *</td>          <td class="paramname"><span class="paramname"><em>FD</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">StringRef</td>          <td class="paramname"><span class="paramname"><em>CrossTUDir</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">StringRef</td>          <td class="paramname"><span class="paramname"><em>IndexName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a></td>          <td class="paramname"><span class="paramname"><em>DisplayCTUProgress</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="stdbool_8h.html#a65e9886d74aaee76545e83dd09011727">false</a></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function loads a function or variable definition from an external AST file and merges it into the original AST. </p>
<p>This method should only be used on functions that have no definitions or variables that have no initializer in the current translation unit. A function definition with the same declaration will be looked up in the index file which should be in the <code>CrossTUDir</code> directory, called <code>IndexName</code>. In case the declaration is found in the index the corresponding AST will be loaded and the definition will be merged into the original AST using the AST Importer.</p>
<dl class="section return"><dt>Returns</dt><dd>The declaration with the definition will be returned. If no suitable definition is found in the index file or multiple definitions found error will be returned.</dd></dl>
<p>Note that the AST files should also be in the <code>CrossTUDir</code>. </p>

<p class="definition">Definition at line <a class="el" href="CrossTranslationUnit_8cpp_source.html#l00325">325</a> of file <a class="el" href="CrossTranslationUnit_8cpp_source.html">CrossTranslationUnit.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="CallEvent_8cpp_source.html#l00541">clang::ento::AnyFunctionCall::getRuntimeDefinition()</a>.</p>

</div>
</div>
<a id="aa9ed7bd9976a54ca24e153f8df27c232" name="aa9ed7bd9976a54ca24e153f8df27c232"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9ed7bd9976a54ca24e153f8df27c232">&#9670;&#160;</a></span>getCrossTUDefinition() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1Expected.html">llvm::Expected</a>&lt; const <a class="el" href="classclang_1_1VarDecl.html">VarDecl</a> * &gt; clang::cross_tu::CrossTranslationUnitContext::getCrossTUDefinition </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classclang_1_1VarDecl.html">VarDecl</a> *</td>          <td class="paramname"><span class="paramname"><em>VD</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">StringRef</td>          <td class="paramname"><span class="paramname"><em>CrossTUDir</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">StringRef</td>          <td class="paramname"><span class="paramname"><em>IndexName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a></td>          <td class="paramname"><span class="paramname"><em>DisplayCTUProgress</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="stdbool_8h.html#a65e9886d74aaee76545e83dd09011727">false</a></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="CrossTranslationUnit_8cpp_source.html#l00334">334</a> of file <a class="el" href="CrossTranslationUnit_8cpp_source.html">CrossTranslationUnit.cpp</a>.</p>

</div>
</div>
<a id="afbc53014dc17f5c9b496a358e36f3e71" name="afbc53014dc17f5c9b496a358e36f3e71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbc53014dc17f5c9b496a358e36f3e71">&#9670;&#160;</a></span>getImportedFromSourceLocation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1Optional.html">llvm::Optional</a>&lt; std::pair&lt; <a class="el" href="classclang_1_1SourceLocation.html">SourceLocation</a>, <a class="el" href="classclang_1_1ASTUnit.html">ASTUnit</a> * &gt; &gt; clang::cross_tu::CrossTranslationUnitContext::getImportedFromSourceLocation </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classclang_1_1SourceLocation.html">clang::SourceLocation</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>ToLoc</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine the original source location in the original TU for an imported source location. </p>
<p><code>ToLoc</code> Source location in the imported-to AST. </p><dl class="section return"><dt>Returns</dt><dd>Source location in the imported-from AST and the corresponding <a class="el" href="classclang_1_1ASTUnit.html" title="Utility class for loading a ASTContext from an AST file.">ASTUnit</a> object (the AST was loaded from a file using an internal <a class="el" href="classclang_1_1ASTUnit.html" title="Utility class for loading a ASTContext from an AST file.">ASTUnit</a> object that is returned here). If any error happens (ToLoc is a non-imported source location) empty is returned. </dd></dl>

<p class="definition">Definition at line <a class="el" href="CrossTranslationUnit_8cpp_source.html#l00767">767</a> of file <a class="el" href="CrossTranslationUnit_8cpp_source.html">CrossTranslationUnit.cpp</a>.</p>

<p class="reference">References <a class="el" href="SourceManager_8h_source.html#l01219">clang::SourceManager::getComposedLoc()</a>, <a class="el" href="SourceManager_8h_source.html#l01233">clang::SourceManager::getDecomposedLoc()</a>, <a class="el" href="ASTContext_8h_source.html#l00639">clang::ASTContext::getSourceManager()</a>, <a class="el" href="ASTUnit_8h_source.html#l00432">clang::ASTUnit::getSourceManager()</a>, and <a class="el" href="Basic_2Cuda_8cpp_source.html#l00062">SM</a>.</p>

</div>
</div>
<a id="acb6d064fefe4d6aec6991d54ba34f0bb" name="acb6d064fefe4d6aec6991d54ba34f0bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb6d064fefe4d6aec6991d54ba34f0bb">&#9670;&#160;</a></span>getLookupName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1Optional.html">llvm::Optional</a>&lt; std::string &gt; clang::cross_tu::CrossTranslationUnitContext::getLookupName </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classclang_1_1NamedDecl.html">NamedDecl</a> *</td>          <td class="paramname"><span class="paramname"><em>ND</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a name to identify a named decl. </p>

<p class="definition">Definition at line <a class="el" href="CrossTranslationUnit_8cpp_source.html#l00217">217</a> of file <a class="el" href="CrossTranslationUnit_8cpp_source.html">CrossTranslationUnit.cpp</a>.</p>

<p class="reference">References <a class="el" href="USRGeneration_8cpp_source.html#l01078">clang::index::generateUSRForDecl()</a>, and <a class="el" href="Interp_8cpp_source.html#l00034">Ret()</a>.</p>

</div>
</div>
<a id="a1ae61c39bd3785eed5acc6c2bee813de" name="a1ae61c39bd3785eed5acc6c2bee813de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ae61c39bd3785eed5acc6c2bee813de">&#9670;&#160;</a></span>importDefinition() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1Expected.html">llvm::Expected</a>&lt; const <a class="el" href="classclang_1_1FunctionDecl.html">FunctionDecl</a> * &gt; clang::cross_tu::CrossTranslationUnitContext::importDefinition </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classclang_1_1FunctionDecl.html">FunctionDecl</a> *</td>          <td class="paramname"><span class="paramname"><em>FD</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classclang_1_1ASTUnit.html">ASTUnit</a> *</td>          <td class="paramname"><span class="paramname"><em>Unit</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function merges a definition from a separate AST Unit into the current one which was created by the compiler instance that was passed to the constructor. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns the resulting definition or an error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="CrossTranslationUnit_8cpp_source.html#l00729">729</a> of file <a class="el" href="CrossTranslationUnit_8cpp_source.html">CrossTranslationUnit.cpp</a>.</p>

</div>
</div>
<a id="ac12cc5b16bebd87a81c85bf56563270e" name="ac12cc5b16bebd87a81c85bf56563270e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac12cc5b16bebd87a81c85bf56563270e">&#9670;&#160;</a></span>importDefinition() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1Expected.html">llvm::Expected</a>&lt; const <a class="el" href="classclang_1_1VarDecl.html">VarDecl</a> * &gt; clang::cross_tu::CrossTranslationUnitContext::importDefinition </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classclang_1_1VarDecl.html">VarDecl</a> *</td>          <td class="paramname"><span class="paramname"><em>VD</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classclang_1_1ASTUnit.html">ASTUnit</a> *</td>          <td class="paramname"><span class="paramname"><em>Unit</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="CrossTranslationUnit_8cpp_source.html#l00735">735</a> of file <a class="el" href="CrossTranslationUnit_8cpp_source.html">CrossTranslationUnit.cpp</a>.</p>

</div>
</div>
<a id="ae4546fd7d76bc9abf8043377bcf0d86b" name="ae4546fd7d76bc9abf8043377bcf0d86b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4546fd7d76bc9abf8043377bcf0d86b">&#9670;&#160;</a></span>loadExternalAST()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1Expected.html">llvm::Expected</a>&lt; <a class="el" href="classclang_1_1ASTUnit.html">ASTUnit</a> * &gt; clang::cross_tu::CrossTranslationUnitContext::loadExternalAST </td>
          <td>(</td>
          <td class="paramtype">StringRef</td>          <td class="paramname"><span class="paramname"><em>LookupName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">StringRef</td>          <td class="paramname"><span class="paramname"><em>CrossTUDir</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">StringRef</td>          <td class="paramname"><span class="paramname"><em>IndexName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a></td>          <td class="paramname"><span class="paramname"><em>DisplayCTUProgress</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="stdbool_8h.html#a65e9886d74aaee76545e83dd09011727">false</a></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function loads a definition from an external AST file. </p>
<p>A definition with the same declaration will be looked up in the index file which should be in the <code>CrossTUDir</code> directory, called <code>IndexName</code>. In case the declaration is found in the index the corresponding AST will be loaded. If the number of TUs imported reaches <code>CTULoadTreshold</code>, no loading is performed.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns a pointer to the <a class="el" href="classclang_1_1ASTUnit.html" title="Utility class for loading a ASTContext from an AST file.">ASTUnit</a> that contains the definition of the looked up name or an Error. The returned pointer is never a nullptr.</dd></dl>
<p>Note that the AST files should also be in the <code>CrossTUDir</code>. </p>

<p class="definition">Definition at line <a class="el" href="CrossTranslationUnit_8cpp_source.html#l00482">482</a> of file <a class="el" href="CrossTranslationUnit_8cpp_source.html">CrossTranslationUnit.cpp</a>.</p>

<p class="reference">References <a class="el" href="namespaceclang_1_1cross__tu.html#af89d2e1c0fca64589909448d036adb96aa411c6d9676da13e6e7df7a21a68dfd8">clang::cross_tu::failed_to_get_external_ast</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/clang/CrossTU/<a class="el" href="CrossTranslationUnit_8h_source.html">CrossTranslationUnit.h</a></li>
<li>lib/CrossTU/<a class="el" href="CrossTranslationUnit_8cpp_source.html">CrossTranslationUnit.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Oct 8 2024 10:08:24 for clang by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
