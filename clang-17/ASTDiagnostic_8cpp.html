<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>clang: lib/AST/ASTDiagnostic.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">clang<span id="projectnumber">&#160;17.0.6</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search',false);
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_be95c164085cbd90049652f7bab3dca9.html">AST</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">ASTDiagnostic.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="ASTDiagnostic_8h_source.html">clang/AST/ASTDiagnostic.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ASTContext_8h_source.html">clang/AST/ASTContext.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ASTLambda_8h_source.html">clang/AST/ASTLambda.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Attr_8h_source.html">clang/AST/Attr.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="DeclObjC_8h_source.html">clang/AST/DeclObjC.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="DeclTemplate_8h_source.html">clang/AST/DeclTemplate.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ExprCXX_8h_source.html">clang/AST/ExprCXX.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="TemplateBase_8h_source.html">clang/AST/TemplateBase.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Type_8h_source.html">clang/AST/Type.h</a>&quot;</code><br />
<code>#include &quot;llvm/ADT/StringExtras.h&quot;</code><br />
<code>#include &quot;llvm/Support/raw_ostream.h&quot;</code><br />
<code>#include &quot;clang/AST/TypeNodes.inc&quot;</code><br />
</div>
<p><a href="ASTDiagnostic_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a229b31cea6fe8b1467e5909b39e22caf" id="r_a229b31cea6fe8b1467e5909b39e22caf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a229b31cea6fe8b1467e5909b39e22caf">ABSTRACT_TYPE</a>(Class,  <a class="el" href="classBase.html">Base</a>)</td></tr>
<tr class="separator:a229b31cea6fe8b1467e5909b39e22caf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4a07ce35c58c50e8e1286f630ba03c4" id="r_ae4a07ce35c58c50e8e1286f630ba03c4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae4a07ce35c58c50e8e1286f630ba03c4">TYPE</a>(Class,  <a class="el" href="classBase.html">Base</a>)</td></tr>
<tr class="separator:ae4a07ce35c58c50e8e1286f630ba03c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa16c07a3e0b45ec7ef1a6310a56edff6" id="r_aa16c07a3e0b45ec7ef1a6310a56edff6"><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa16c07a3e0b45ec7ef1a6310a56edff6">ConvertTypeToDiagnosticString</a> (<a class="el" href="classclang_1_1ASTContext.html">ASTContext</a> &amp;Context, <a class="el" href="classclang_1_1QualType.html">QualType</a> Ty, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classclang_1_1DiagnosticsEngine.html#a9cd1a53402fa0ab3d1de612cf3412e28">DiagnosticsEngine::ArgumentValue</a> &gt; PrevArgs, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="opencl-c-base_8h.html#a0bd5dec00e345e69027427f8621d6a6c">intptr_t</a> &gt; QualTypeVals)</td></tr>
<tr class="memdesc:aa16c07a3e0b45ec7ef1a6310a56edff6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the given type to a string suitable for printing as part of a diagnostic.  <br /></td></tr>
<tr class="separator:aa16c07a3e0b45ec7ef1a6310a56edff6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa159a5a6aaef5e859d768b00b02e5bec" id="r_aa159a5a6aaef5e859d768b00b02e5bec"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa159a5a6aaef5e859d768b00b02e5bec">FormatTemplateTypeDiff</a> (<a class="el" href="classclang_1_1ASTContext.html">ASTContext</a> &amp;Context, <a class="el" href="classclang_1_1QualType.html">QualType</a> FromType, <a class="el" href="classclang_1_1QualType.html">QualType</a> ToType, <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> PrintTree, <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> PrintFromType, <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> ElideType, <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="Logger_8cpp.html#a00cfac6df0d3147f7ff5dfecc3b55d57">ShowColors</a>, raw_ostream &amp;OS)</td></tr>
<tr class="memdesc:aa159a5a6aaef5e859d768b00b02e5bec"><td class="mdescLeft">&#160;</td><td class="mdescRight">FormatTemplateTypeDiff - A helper static function to start the template diff and return the properly formatted string.  <br /></td></tr>
<tr class="separator:aa159a5a6aaef5e859d768b00b02e5bec"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a229b31cea6fe8b1467e5909b39e22caf" name="a229b31cea6fe8b1467e5909b39e22caf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a229b31cea6fe8b1467e5909b39e22caf">&#9670;&#160;</a></span>ABSTRACT_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ABSTRACT_TYPE</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>Class</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em><a class="el" href="classBase.html">Base</a></em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae4a07ce35c58c50e8e1286f630ba03c4" name="ae4a07ce35c58c50e8e1286f630ba03c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4a07ce35c58c50e8e1286f630ba03c4">&#9670;&#160;</a></span>TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TYPE</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>Class</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em><a class="el" href="classBase.html">Base</a></em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">case</span> Type::Class: { \</div>
<div class="line"><span class="keyword">const</span> Class##<a class="code hl_class" href="classclang_1_1Type.html">Type</a> *CTy = <a class="code hl_function" href="namespaceclang.html#aea67849d75c6afc4ac16e37ed99254aa">cast&lt;Class##Type&gt;</a>(Ty); \</div>
<div class="line">if (CTy-&gt;isSugared()) { \</div>
<div class="line">IsSugar = <span class="keyword">true</span>; \</div>
<div class="line">Underlying = CTy-&gt;desugar(); \</div>
<div class="line">} \</div>
<div class="line"><span class="keywordflow">break</span>; \</div>
<div class="line">}</div>
<div class="ttc" id="aclassclang_1_1Type_html"><div class="ttname"><a href="classclang_1_1Type.html">clang::Type</a></div><div class="ttdoc">The base class of the type hierarchy.</div><div class="ttdef"><b>Definition</b> <a href="Type_8h_source.html#l01577">Type.h:1577</a></div></div>
<div class="ttc" id="anamespaceclang_html_aea67849d75c6afc4ac16e37ed99254aa"><div class="ttname"><a href="namespaceclang.html#aea67849d75c6afc4ac16e37ed99254aa">clang::cast</a></div><div class="ttdeci">U cast(CodeGen::Address addr)</div><div class="ttdef"><b>Definition</b> <a href="Address_8h_source.html#l00152">Address.h:152</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aa16c07a3e0b45ec7ef1a6310a56edff6" name="aa16c07a3e0b45ec7ef1a6310a56edff6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa16c07a3e0b45ec7ef1a6310a56edff6">&#9670;&#160;</a></span>ConvertTypeToDiagnosticString()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::string ConvertTypeToDiagnosticString </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classclang_1_1ASTContext.html">ASTContext</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>Context</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classclang_1_1QualType.html">QualType</a></td>          <td class="paramname"><span class="paramname"><em>Ty</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classclang_1_1DiagnosticsEngine.html#a9cd1a53402fa0ab3d1de612cf3412e28">DiagnosticsEngine::ArgumentValue</a> &gt;</td>          <td class="paramname"><span class="paramname"><em>PrevArgs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="opencl-c-base_8h.html#a0bd5dec00e345e69027427f8621d6a6c">intptr_t</a> &gt;</td>          <td class="paramname"><span class="paramname"><em>QualTypeVals</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert the given type to a string suitable for printing as part of a diagnostic. </p>
<p>There are four main criteria when determining whether we should have an a.k.a. clause when pretty-printing a type:</p>
<p>1) Some types provide very minimal sugar that doesn't impede the user's understanding &mdash; for example, elaborated type specifiers. If this is all the sugar we see, we don't want an a.k.a. clause. 2) Some types are technically sugared but are much more familiar when seen in their sugared form &mdash; for example, va_list, vector types, and the magic Objective C types. We don't want to desugar these, even if we do produce an a.k.a. clause. 3) Some types may have already been desugared previously in this diagnostic. if this is the case, doing another "aka" would just be clutter. 4) Two different types within the same diagnostic have the same output string. In this case, force an a.k.a with the desugared type when doing so will provide additional information.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Context</td><td>the context in which the type was allocated </td></tr>
    <tr><td class="paramname">Ty</td><td>the type to print </td></tr>
    <tr><td class="paramname">QualTypeVals</td><td>pointer values to QualTypes which are used in the diagnostic message </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ASTDiagnostic_8cpp_source.html#l00264">264</a> of file <a class="el" href="ASTDiagnostic_8cpp_source.html">ASTDiagnostic.cpp</a>.</p>

<p class="reference">References <a class="el" href="Basic_2Diagnostic_8h_source.html#l00230">clang::DiagnosticsEngine::ak_qualtype</a>, <a class="el" href="ASTDiagnostic_8cpp_source.html#l00030">clang::desugarForDiagnostic()</a>, <a class="el" href="Type_8h_source.html#l07460">clang::Type::getAs()</a>, <a class="el" href="Type_8h_source.html#l01100">clang::QualType::getAsString()</a>, <a class="el" href="Type_8h_source.html#l06736">clang::QualType::getCanonicalType()</a>, <a class="el" href="Type_8h_source.html#l00785">clang::QualType::getFromOpaquePtr()</a>, <a class="el" href="ASTContext_8h_source.html#l00683">clang::ASTContext::getPrintingPolicy()</a>, and <a class="el" href="Type_8h_source.html#l00803">clang::QualType::isNull()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ASTDiagnostic_8cpp_source.html#l00356">clang::FormatASTNodeDiagnosticArgument()</a>.</p>

</div>
</div>
<a id="aa159a5a6aaef5e859d768b00b02e5bec" name="aa159a5a6aaef5e859d768b00b02e5bec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa159a5a6aaef5e859d768b00b02e5bec">&#9670;&#160;</a></span>FormatTemplateTypeDiff()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> FormatTemplateTypeDiff </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classclang_1_1ASTContext.html">ASTContext</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>Context</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classclang_1_1QualType.html">QualType</a></td>          <td class="paramname"><span class="paramname"><em>FromType</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classclang_1_1QualType.html">QualType</a></td>          <td class="paramname"><span class="paramname"><em>ToType</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a></td>          <td class="paramname"><span class="paramname"><em>PrintTree</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a></td>          <td class="paramname"><span class="paramname"><em>PrintFromType</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a></td>          <td class="paramname"><span class="paramname"><em>ElideType</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a></td>          <td class="paramname"><span class="paramname"><em>ShowColors</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">raw_ostream &amp;</td>          <td class="paramname"><span class="paramname"><em>OS</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>FormatTemplateTypeDiff - A helper static function to start the template diff and return the properly formatted string. </p>
<p>Returns true if the diff is successful. </p>

<p class="definition">Definition at line <a class="el" href="ASTDiagnostic_8cpp_source.html#l02132">2132</a> of file <a class="el" href="ASTDiagnostic_8cpp_source.html">ASTDiagnostic.cpp</a>.</p>

<p class="reference">References <a class="el" href="Logger_8cpp_source.html#l00029">ShowColors</a>.</p>

<p class="reference">Referenced by <a class="el" href="ASTDiagnostic_8cpp_source.html#l00356">clang::FormatASTNodeDiagnosticArgument()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Oct 8 2024 17:02:10 for clang by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
