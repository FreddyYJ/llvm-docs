<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/CodeGen/RemoveLoadsIntoFakeUses.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LLVM<span id="projectnumber">&#160;20.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search',false);
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_1e8ad0574bd6e387992681ee57691a07.html">CodeGen</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">RemoveLoadsIntoFakeUses.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>The FAKE_USE instruction is used to preserve certain values through optimizations for the sake of debugging.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="PostOrderIterator_8h_source.html">llvm/ADT/PostOrderIterator.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Statistic_8h_source.html">llvm/ADT/Statistic.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="LiveRegUnits_8h_source.html">llvm/CodeGen/LiveRegUnits.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="MachineFunction_8h_source.html">llvm/CodeGen/MachineFunction.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="MachineFunctionPass_8h_source.html">llvm/CodeGen/MachineFunctionPass.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="MachineRegisterInfo_8h_source.html">llvm/CodeGen/MachineRegisterInfo.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="TargetSubtargetInfo_8h_source.html">llvm/CodeGen/TargetSubtargetInfo.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="IR_2Function_8h_source.html">llvm/IR/Function.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="InitializePasses_8h_source.html">llvm/InitializePasses.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Debug_8h_source.html">llvm/Support/Debug.h</a>&quot;</code><br />
</div>
<p><a href="RemoveLoadsIntoFakeUses_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemoveLoadsIntoFakeUses.html">RemoveLoadsIntoFakeUses</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad78e062f62e0d6e453941fb4ca843e4d" id="r_ad78e062f62e0d6e453941fb4ca843e4d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>&#160;&#160;&#160;&quot;remove-loads-into-fake-uses&quot;</td></tr>
<tr class="separator:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2230515e71bb9ac71cfad28e35f6f0eb" id="r_a2230515e71bb9ac71cfad28e35f6f0eb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2230515e71bb9ac71cfad28e35f6f0eb">STATISTIC</a> (NumLoadsDeleted, &quot;Number of dead <a class="el" href="AMDGPUMarkLastScratchLoad_8cpp.html#a8a3fe89940744b94ffe5dacd6704c2be">load</a> <a class="el" href="AtomicExpandPass_8cpp.html#a1bcc06b1cb86bd0ea08f33323190bdaa">instructions</a> deleted&quot;)</td></tr>
<tr class="separator:a2230515e71bb9ac71cfad28e35f6f0eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba5e1cbb7b0c22f18b814b2adb8cad85" id="r_aba5e1cbb7b0c22f18b814b2adb8cad85"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aba5e1cbb7b0c22f18b814b2adb8cad85">STATISTIC</a> (NumFakeUsesDeleted, &quot;Number of FAKE_USE <a class="el" href="AtomicExpandPass_8cpp.html#a1bcc06b1cb86bd0ea08f33323190bdaa">instructions</a> deleted&quot;)</td></tr>
<tr class="separator:aba5e1cbb7b0c22f18b814b2adb8cad85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a554d5aafa81f51447a0cf25184ccef8e" id="r_a554d5aafa81f51447a0cf25184ccef8e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a554d5aafa81f51447a0cf25184ccef8e">INITIALIZE_PASS_BEGIN</a> (<a class="el" href="classRemoveLoadsIntoFakeUses.html">RemoveLoadsIntoFakeUses</a>, <a class="el" href="GenericCycleImpl_8h.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, &quot;Remove Loads Into Fake Uses&quot;, false, false) <a class="el" href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a>(<a class="el" href="classRemoveLoadsIntoFakeUses.html">RemoveLoadsIntoFakeUses</a></td></tr>
<tr class="separator:a554d5aafa81f51447a0cf25184ccef8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a030569d5a541b6110f2ae1b6a3413a58" id="r_a030569d5a541b6110f2ae1b6a3413a58"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a030569d5a541b6110f2ae1b6a3413a58">DEBUG_TYPE</a></td></tr>
<tr class="separator:a030569d5a541b6110f2ae1b6a3413a58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b427ca665b192edbeb8d6ca3c8f19fd" id="r_a0b427ca665b192edbeb8d6ca3c8f19fd"><td class="memItemLeft" align="right" valign="top">Remove Loads Into Fake&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0b427ca665b192edbeb8d6ca3c8f19fd">Uses</a></td></tr>
<tr class="separator:a0b427ca665b192edbeb8d6ca3c8f19fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe007459002dc8996741cd929b731cea" id="r_afe007459002dc8996741cd929b731cea"><td class="memItemLeft" align="right" valign="top">Remove Loads Into Fake&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afe007459002dc8996741cd929b731cea">false</a></td></tr>
<tr class="separator:afe007459002dc8996741cd929b731cea"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The FAKE_USE instruction is used to preserve certain values through optimizations for the sake of debugging. </p>
<p>This may result in spilled values being loaded into registers that are only used by FAKE_USEs; this is not necessary for debugging purposes, because at that point the value must be on the stack and hence available for debugging. Therefore, this pass removes loads that are only used by FAKE_USEs.</p>
<p>This pass should run very late, to ensure that we don't inadvertently shorten stack lifetimes by removing these loads, since the FAKE_USEs will also no longer be in effect. Running immediately before <a class="el" href="namespaceLiveDebugValues.html">LiveDebugValues</a> ensures that LDV will have accurate information of the machine location of debug values. </p>

<p class="definition">Definition in file <a class="el" href="RemoveLoadsIntoFakeUses_8cpp_source.html">RemoveLoadsIntoFakeUses.cpp</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ad78e062f62e0d6e453941fb4ca843e4d" name="ad78e062f62e0d6e453941fb4ca843e4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad78e062f62e0d6e453941fb4ca843e4d">&#9670;&#160;</a></span>DEBUG_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_TYPE&#160;&#160;&#160;&quot;remove-loads-into-fake-uses&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="RemoveLoadsIntoFakeUses_8cpp_source.html#l00038">38</a> of file <a class="el" href="RemoveLoadsIntoFakeUses_8cpp_source.html">RemoveLoadsIntoFakeUses.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a554d5aafa81f51447a0cf25184ccef8e" name="a554d5aafa81f51447a0cf25184ccef8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a554d5aafa81f51447a0cf25184ccef8e">&#9670;&#160;</a></span>INITIALIZE_PASS_BEGIN()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INITIALIZE_PASS_BEGIN </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRemoveLoadsIntoFakeUses.html">RemoveLoadsIntoFakeUses</a></td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="GenericCycleImpl_8h.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a></td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Remove Loads Into Fake Uses&quot;</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">false</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">false</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aba5e1cbb7b0c22f18b814b2adb8cad85" name="aba5e1cbb7b0c22f18b814b2adb8cad85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba5e1cbb7b0c22f18b814b2adb8cad85">&#9670;&#160;</a></span>STATISTIC() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumFakeUsesDeleted</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of FAKE_USE <a class="el" href="AtomicExpandPass_8cpp.html#a1bcc06b1cb86bd0ea08f33323190bdaa">instructions</a> deleted&quot;</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2230515e71bb9ac71cfad28e35f6f0eb" name="a2230515e71bb9ac71cfad28e35f6f0eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2230515e71bb9ac71cfad28e35f6f0eb">&#9670;&#160;</a></span>STATISTIC() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumLoadsDeleted</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of dead <a class="el" href="AMDGPUMarkLastScratchLoad_8cpp.html#a8a3fe89940744b94ffe5dacd6704c2be">load</a> <a class="el" href="AtomicExpandPass_8cpp.html#a1bcc06b1cb86bd0ea08f33323190bdaa">instructions</a> deleted&quot;</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a030569d5a541b6110f2ae1b6a3413a58" name="a030569d5a541b6110f2ae1b6a3413a58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a030569d5a541b6110f2ae1b6a3413a58">&#9670;&#160;</a></span>DEBUG_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEBUG_TYPE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="RemoveLoadsIntoFakeUses_8cpp_source.html#l00073">73</a> of file <a class="el" href="RemoveLoadsIntoFakeUses_8cpp_source.html">RemoveLoadsIntoFakeUses.cpp</a>.</p>

</div>
</div>
<a id="afe007459002dc8996741cd929b731cea" name="afe007459002dc8996741cd929b731cea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe007459002dc8996741cd929b731cea">&#9670;&#160;</a></span>false</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Remove Loads Into Fake false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="RemoveLoadsIntoFakeUses_8cpp_source.html#l00074">74</a> of file <a class="el" href="RemoveLoadsIntoFakeUses_8cpp_source.html">RemoveLoadsIntoFakeUses.cpp</a>.</p>

</div>
</div>
<a id="a0b427ca665b192edbeb8d6ca3c8f19fd" name="a0b427ca665b192edbeb8d6ca3c8f19fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b427ca665b192edbeb8d6ca3c8f19fd">&#9670;&#160;</a></span>Uses</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Remove Loads Into Fake Uses</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="RemoveLoadsIntoFakeUses_8cpp_source.html#l00074">74</a> of file <a class="el" href="RemoveLoadsIntoFakeUses_8cpp_source.html">RemoveLoadsIntoFakeUses.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="FunctionAttrs_8cpp_source.html#l00871">addArgumentAttrs()</a>, <a class="el" href="GlobalOpt_8cpp_source.html#l00736">allUsesOfLoadAndStores()</a>, <a class="el" href="CombinerHelper_8cpp_source.html#l00790">llvm::CombinerHelper::applyCombineExtendingLoads()</a>, <a class="el" href="Attributor_8cpp_source.html#l01879">llvm::Attributor::checkForAllCallSites()</a>, <a class="el" href="Thumb2ITBlockPass_8cpp_source.html#l00112">ClearKillFlags()</a>, <a class="el" href="AMDGPUPromoteAlloca_8cpp_source.html#l00252">collectAllocaUses()</a>, <a class="el" href="ReachingDefAnalysis_8cpp_source.html#l00650">llvm::ReachingDefAnalysis::collectKilledOperands()</a>, <a class="el" href="RDFLiveness_8cpp_source.html#l00460">llvm::rdf::Liveness::computePhiInfo()</a>, <a class="el" href="ModuloSchedule_8cpp_source.html#l01863">llvm::PeelingModuloScheduleExpander::CreateLCSSAExitingBlock()</a>, <a class="el" href="OMPIRBuilder_8cpp_source.html#l01358">llvm::OpenMPIRBuilder::createParallel()</a>, <a class="el" href="HexagonRegisterInfo_8cpp_source.html#l00208">llvm::HexagonRegisterInfo::eliminateFrameIndex()</a>, <a class="el" href="LegalizerHelper_8cpp_source.html#l04502">llvm::LegalizerHelper::fewerElementsVectorMultiEltType()</a>, <a class="el" href="M68kFrameLowering_8cpp_source.html#l00137">findDeadCallerSavedReg()</a>, <a class="el" href="X86RegisterInfo_8cpp_source.html#l00975">llvm::X86RegisterInfo::findDeadCallerSavedReg()</a>, <a class="el" href="BranchFolding_8cpp_source.html#l01825">findHoistingInsertPosAndDeps()</a>, <a class="el" href="WebAssemblyFixFunctionBitcasts_8cpp_source.html#l00066">findUses()</a>, <a class="el" href="RDFLiveness_8cpp_source.html#l00414">llvm::rdf::Liveness::getAllReachedUses()</a>, <a class="el" href="ReachingDefAnalysis_8cpp_source.html#l00376">llvm::ReachingDefAnalysis::getGlobalUses()</a>, <a class="el" href="ReachingDefAnalysis_8cpp_source.html#l00357">llvm::ReachingDefAnalysis::getLiveInUses()</a>, <a class="el" href="ReachingDefAnalysis_8cpp_source.html#l00332">llvm::ReachingDefAnalysis::getReachingLocalUses()</a>, <a class="el" href="MCA_2Instruction_8h_source.html#l00537">llvm::mca::InstructionBase::getUses()</a>, <a class="el" href="MCA_2Instruction_8h_source.html#l00538">llvm::mca::InstructionBase::getUses()</a>, <a class="el" href="ReachingDefAnalysis_8cpp_source.html#l00688">llvm::ReachingDefAnalysis::isSafeToDefRegAt()</a>, <a class="el" href="HexagonInstrInfo_8cpp_source.html#l00238">parseOperands()</a>, <a class="el" href="MachineLoopUtils_8cpp_source.html#l00026">llvm::PeelSingleBlockLoop()</a>, <a class="el" href="MIRCanonicalizerPass_8cpp_source.html#l00290">propagateLocalCopies()</a>, <a class="el" href="RewriteStatepointsForGC_8cpp_source.html#l02012">relocationViaAlloca()</a>, <a class="el" href="Transforms_2Utils_2Local_8cpp_source.html#l02880">llvm::removeAllNonTerminatorAndEHPadInstructions()</a>, <a class="el" href="SelectionDAG_8cpp_source.html#l11743">llvm::SelectionDAG::ReplaceAllUsesOfValuesWith()</a>, <a class="el" href="Metadata_8cpp_source.html#l00367">llvm::ReplaceableMetadataImpl::replaceAllUsesWith()</a>, <a class="el" href="Metadata_8cpp_source.html#l00420">llvm::ReplaceableMetadataImpl::resolveAllUses()</a>, <a class="el" href="Metadata_8cpp_source.html#l00331">llvm::ReplaceableMetadataImpl::SalvageDebugInfo()</a>, <a class="el" href="Thumb2ITBlockPass_8cpp_source.html#l00081">TrackDefUses()</a>, and <a class="el" href="CallBrPrepare_8cpp_source.html#l00185">UpdateSSA()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Oct 2 2024 14:27:31 for LLVM by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
